// Generated by CoffeeScript 1.6.2
(function() {
  var assert, expect, should;

  assert = chai.assert;

  expect = chai.expect;

  should = chai.should();

  describe('variable', function() {
    var variable;

    variable = null;
    beforeEach(function() {
      return variable = new Variable();
    });
    afterEach(function() {
      return variable = null;
    });
    it("should create a varable correctly", function() {
      expect(variable).to.exist;
      expect(variable.get('a')).is.above(0.0001 - 0.0000001).and.below(0.0001 + 0.0000001).and.is.not.equal(0.0001);
      expect(variable.get('v')).is.above(0.01 - 0.0001).and.below(0.01 + 0.0001).and.is.not.equal(0.01);
      return expect(variable.get('d')).is.above(0.05 - 0.01).and.below(0.05 + 0.01).and.is.not.equal(0.5);
    });
    it("should create a varable correctly when overriding defaults and mutate a varable correctly", function() {
      var variable1;

      variable1 = new Variable({
        'd': 4,
        'v': 3,
        'a': 2,
        'c': 1
      });
      expect(variable1.get('c')).is.equal(1);
      expect(variable1.get('a')).is.above(2 - 1).and.below(2 + 1).and.is.not.equal(2);
      expect(variable1.get('v')).is.above(3 - 2).and.below(3 + 2).and.is.not.equal(3);
      return expect(variable1.get('d')).is.above(4 - 3).and.below(4 + 3).and.is.not.equal(4);
    });
    return it("should be able to create custom variables with JSON, will be needed for persistanse later");
  });

  describe("Brain", function() {
    return describe("initialize", function() {
      var brain;

      brain = null;
      beforeEach(function() {
        return brain = new Brain();
      });
      afterEach(function() {
        return brain = null;
      });
      it("should be defined when created", function() {
        return expect(brain).to.exist;
      });
      it("should create Health Points", function() {
        expect(brain.get('healthPoints')).to.exist;
        return expect(brain.get('healthPoints')).is.equal(20);
      });
      it("should create custom Health Points", function() {
        var brain1;

        brain1 = new Brain({
          'healthPoints': 100
        });
        return expect(brain1.get('healthPoints')).is.equal(100);
      });
      it("should add health points", function() {
        brain.addHealth(5);
        return expect(brain.get('healthPoints')).is.equal(25);
      });
      it("should subtract health points", function() {
        brain.subtractHealth(5);
        return expect(brain.get('healthPoints')).is.equal(15);
      });
      describe("seeFoodConnectionUtility", function() {
        it("should create seeFoodConnectionUtility Node", function() {
          return expect(brain.get('seeFoodConnectionUtility')).to.exist;
        });
        it("should create seeFoodConnectionUtility Node with variables", function() {
          return expect(brain.get('seeFoodConnectionUtility')[0]).to.exist;
        });
        it("should create sensory node with variable", function() {
          return expect(brain.get('seeFoodConnectionUtility')[0].get('d')).is.above(0.05 - 0.01).and.below(0.05 + 0.01).and.is.not.equal(0.05);
        });
        return it("should create sensory node with variable trough parameters", function() {
          var brain1;

          brain1 = new Brain({
            'seeFoodConnectionUtility': [
              {
                'd': 4,
                'v': 1
              }, {
                'd': 6,
                'v': 2
              }
            ]
          });
          expect(brain1.get('seeFoodConnectionUtility')[0].get('d')).is.above(4 - 1).and.below(4 + 1).and.is.not.equal(4);
          return expect(brain1.get('seeFoodConnectionUtility')[1].get('d')).is.above(6 - 2).and.below(6 + 2).and.is.not.equal(6);
        });
      });
      describe("seeFoodConnectionProbabilities", function() {
        it("should create seeFoodConnectionProbabilities Node", function() {
          return expect(brain.get('seeFoodConnectionProbabilities')).to.exist;
        });
        return it("should mutate Utility and Probabilities on mutate()", function() {
          var varP0, varP1, varU0, varU1;

          varU0 = brain.get('seeFoodConnectionUtility')[0].get('d');
          varU1 = brain.get('seeFoodConnectionUtility')[1].get('d');
          varP0 = brain.get('seeFoodConnectionProbabilities')[0];
          varP1 = brain.get('seeFoodConnectionProbabilities')[1];
          brain.mutate();
          expect(brain.get('seeFoodConnectionUtility')[0].get('d')).is.not.equal(varU0);
          expect(brain.get('seeFoodConnectionUtility')[1].get('d')).is.not.equal(varU1);
          expect(brain.get('seeFoodConnectionProbabilities')[0]).is.not.equal(varP0);
          return expect(brain.get('seeFoodConnectionProbabilities')[1]).is.not.equal(varP1);
        });
      });
      return describe("act", function() {
        return it("should work", function() {
          return expect(brain.act()).to.match(/^eat$|^do not eat$/);
        });
      });
    });
  });

}).call(this);
